<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Contact The Dog Bar for questions, feedback, or to plan your next visit. We'd love to hear from you!" />
    <meta name="theme-color" content="#0ea5e9" />
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Contact Us - The Dog Bar" />
    <meta property="og:description" content="Contact The Dog Bar for questions, feedback, or to plan your next visit. We'd love to hear from you!" />
    <meta property="og:image" content="https://dogbar.com/assets/media/logo.png" />
    <meta property="og:type" content="website" />
    
    <title>Contact Us - The Dog Bar</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/media/logo.png?v=2" />

    <!-- Compiled Tailwind CSS -->
    <link rel="stylesheet" href="../assets/css/tailwind.output.css" />
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

    <!-- Main App Script (Vite will process this during build) -->
    <script type="module" src="/assets/js/app.js"></script>
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <div id="header-root"></div>

    <!-- Main Content -->
    <main class="min-h-screen">
      <!-- Hero Section -->
      <div id="contact-hero-root"></div>

      <!-- Contact Content -->
      <section class="py-16">
        <div class="container mx-auto px-4">
          <div class="max-w-3xl mx-auto">
            <!-- Contact Form -->
            <div class="bg-white rounded-lg shadow-lg p-8">
              <h2 class="text-2xl font-bold text-gray-800 mb-6">
                Send Us a Message
              </h2>
              <form id="contact-form" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                  <div>
                    <label
                      for="firstName"
                      class="block text-sm font-medium text-gray-700 mb-2"
                    >
                      First Name *
                    </label>
                    <input
                      type="text"
                      id="firstName"
                      name="firstName"
                      required
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                      placeholder="Your first name"
                    />
                  </div>
                  <div>
                    <label
                      for="lastName"
                      class="block text-sm font-medium text-gray-700 mb-2"
                    >
                      Last Name *
                    </label>
                    <input
                      type="text"
                      id="lastName"
                      name="lastName"
                      required
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                      placeholder="Your last name"
                    />
                  </div>
                </div>

                <div>
                  <label
                    for="email"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Email Address *
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                    placeholder="your.email@example.com"
                  />
                </div>

                <div>
                  <label
                    for="phone"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Phone Number
                  </label>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                    placeholder="(555) 123-4567"
                  />
                </div>

                <div>
                  <label
                    for="subject"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Subject *
                  </label>
                  <select
                    id="subject"
                    name="subject"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                  >
                    <option value="">Select a subject</option>
                    <option value="general">General Inquiry</option>
                    <option value="party">Party Booking</option>
                    <option value="membership">Membership Questions</option>
                    <option value="events">Event Information</option>
                    <option value="feedback">Feedback</option>
                    <option value="complaint">Complaint</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <div>
                  <label
                    for="message"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Message *
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    required
                    rows="6"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-vertical"
                    placeholder="Tell us how we can help you..."
                  ></textarea>
                </div>

                <div class="flex items-start">
                  <input
                    type="checkbox"
                    id="newsletter"
                    name="newsletter"
                    class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                  />
                  <label for="newsletter" class="ml-3 text-sm text-gray-600">
                    I'd like to receive updates about events and special offers
                  </label>
                </div>

                <button
                  type="submit"
                  class="w-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all duration-200 transform hover:scale-105"
                >
                  Send Message
                </button>
              </form>

              <!-- Form Success Message -->
              <div
                id="form-success"
                class="hidden mt-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg"
              >
                <p class="font-semibold">Thank you for your message!</p>
                <p>We'll get back to you within 24 hours.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Map Section -->
      <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
          <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">
            Find Us
          </h2>
          <div class="bg-white rounded-lg shadow-lg overflow-hidden">
            <div
              id="map-container"
              class="h-96 bg-gray-200 flex items-center justify-center"
            >
              <div class="text-center text-gray-500">
                <svg
                  class="w-16 h-16 mx-auto mb-4"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                <p class="text-lg font-semibold">Interactive Map</p>
                <p class="text-sm">Map will load with location data</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <div id="footer-root"></div>

    <script>
      // Contact form handling
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contact-form");
        const successMessage = document.getElementById("form-success");

        form.addEventListener("submit", function (e) {
          e.preventDefault();

          // Get form data
          const formData = new FormData(form);
          const data = {
            firstName: formData.get("firstName"),
            lastName: formData.get("lastName"),
            email: formData.get("email"),
            phone: formData.get("phone"),
            subject: formData.get("subject"),
            message: formData.get("message"),
            newsletter: formData.get("newsletter") === "on",
            timestamp: new Date().toISOString(),
          };

          // Here you would typically send the data to your backend
          console.log("Contact form submission:", data);

          // Show success message
          form.style.display = "none";
          successMessage.classList.remove("hidden");

          // Scroll to success message
          successMessage.scrollIntoView({ behavior: "smooth" });
        });
      });
    </script>

    <!-- Page Hero Utility -->
    <script type="module" src="/assets/js/utils/page-hero.js"></script>

    <!-- Initialize Contact Page Hero -->
    <script type="module">
      async function initContactHero() {
        let attempts = 0;
        while ((!window.supabase || !window.renderPageHero) && attempts < 50) {
          await new Promise((resolve) => setTimeout(resolve, 100));
          attempts++;
        }

        if (window.renderPageHero) {
          const location = localStorage.getItem("dogbar_location") || "st-pete";

          await window.renderPageHero("contact", location, {
            title: "Contact Us 📞",
            subtitle:
              "We'd love to hear from you! Get in touch with us for questions, feedback, or to plan your next visit.",
            gradientClass:
              "bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600",
          });
        }
      }

      initContactHero();
    </script>
  </body>
</html>
